var app=angular.module("musicaEventosRecord",["ngMessages","ngSanitize","remoteValidation"]).config(["$interpolateProvider",function(t){t.startSymbol("<%"),t.endSymbol("%>")}]),dateFormat=function(){return{restrict:"A",require:"ngModel",link:function(t,o,e,n){function a(t){var o=moment(t,"D/M/YYYY H:mm",!0);return console.log(t+": "+o.isValid()),o.isValid()?n.$setValidity("formato",!0):n.$setValidity("formato",!1),t}n.$parsers.push(a)}}};app.directive("dateFormat",dateFormat),app.controller("musicaEventoEditCtrl",["$scope","$http","$location",function(t,o,e){t.evento={},t.evento.titulo=post.titulo,t.evento.id=post.id;var n=moment(post.hora).format("D/M/YYYY H:mm");t.evento.hora=n}]),app.controller("musicaEscalaCreateCtrl",["$scope","$http","$location",function(t,o,e){t.evento={},t.evento.titulo="Encontro Geral"}]);
var app=angular.module("musicaEscalaRecord",["ngMessages","ngSanitize","remoteValidation","ui.select"]).config(["$interpolateProvider",function(o){o.startSymbol("<%"),o.endSymbol("%>")}]);app.directive("toggleClass",function(){return{link:function(o,i,n){i.on("click",function(){i.toggleClass("option-selected")})}}}),app.controller("musicaEscalaCreateCtrl",["$scope","$http","$location","$timeout",function(o,n,e,t){o.servicos={},o.staffPorServico=[],o.staffSelecionado={};var a=n.get("/musica/servicos");a.then(function(n){for(o.servicos=n.data,i=0;i<o.servicos.length;i++)o.servicos[i].staffDisponivel=[]}).then(function(){for(i=0;i<o.servicos.length;i++)!function(i){var e="/musica/servicos/"+i+"/staff";console.log(e),t(function(){n.get(e).then(function(n){o.staffPorServico[i]=n.data,o.staffSelecionado[i]=[]})},Math.floor(800*Math.random())+200)}(o.servicos[i].id)}),o.serviceIcon=function(o){return window.location.origin+"/"+o},o.avatar=function(o){return o?window.location.origin+"/"+o+"70px.jpg":window.location.origin+"/users/avatar/000-default-70px.jpg"},o.selectStaff=function(i,n){if(i&&n){var e=o.staffSelecionado[i].indexOf(n);e<0?o.staffSelecionado[i].push(n):o.staffSelecionado[i].splice(e,1)}}}]);