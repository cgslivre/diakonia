var app=angular.module("musicaStaffRecord",["ngMessages","ngSanitize","remoteValidation","ui.select"]).config(["$interpolateProvider",function(e){e.startSymbol("<%"),e.endSymbol("%>")}]);app.directive("toggleClass",function(){return{link:function(e,n,t){n.on("click",function(){n.toggleClass("option-selected")})}}});
app.controller("musicaEventoCreateCtrl",["$scope","$http","$location","$timeout",function(o,t,n,e){o.servicos={},o.staffPorServico=[],o.staffSelecionado={};var a=t.get("/musica/servicos");a.then(function(t){for(o.servicos=t.data,i=0;i<o.servicos.length;i++)o.servicos[i].staffDisponivel=[]}).then(function(){for(i=0;i<o.servicos.length;i++)!function(i){var n="/musica/servicos/"+i+"/staff";console.log(n),e(function(){t.get(n).then(function(t){o.staffPorServico[i]=t.data,o.staffSelecionado[i]=[]})},Math.floor(800*Math.random())+200)}(o.servicos[i].id)}),o.serviceIcon=function(o){return window.location.origin+"/"+o},o.avatar=function(o){return o?window.location.origin+"/"+o+"70px.jpg":window.location.origin+"/users/avatar/000-default-70px.jpg"},o.selectStaff=function(i,t){if(i&&t){var n=o.staffSelecionado[i].indexOf(t);n<0?o.staffSelecionado[i].push(t):o.staffSelecionado[i].splice(n,1)}}}]);