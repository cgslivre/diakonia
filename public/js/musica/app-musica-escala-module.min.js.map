{"version":3,"sources":["MusicaEscalaModule.js","MusicaEscalaCreateCtrl.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app-musica-escala-module.min.js","sourcesContent":["var app = angular.module('musicaStaffRecord', ['ngMessages','ngSanitize','remoteValidation','ui.select'])\n  .config(['$interpolateProvider', function ($interpolateProvider) {\n      $interpolateProvider.startSymbol('<%');\n      $interpolateProvider.endSymbol('%>')\n\n\n}]);\n\napp.directive(\"toggleClass\", function() {\n  return {\n    link: function($scope, element, attr) {\n      element.on(\"click\", function() {\n        element.toggleClass(\"option-selected\");\n      });\n    }\n  }\n});\n","app.controller('musicaEventoCreateCtrl', ['$scope', '$http', '$location', '$timeout',\n  function ($scope, $http,$location,$timeout) {\n    $scope.servicos = {};\n    $scope.staffPorServico = [];\n    $scope.staffSelecionado = {};\n\n    var chamadaServicos = $http.get(\"/musica/servicos\");\n\n\n    chamadaServicos.then( function (response){\n        $scope.servicos = response.data;\n\n        for( i=0 ; i < $scope.servicos.length ; i++ ){\n            $scope.servicos[i]['staffDisponivel'] = [];\n            //$scope.staffSelecionado[i]['staffSelecionado'] = [];\n        }\n    }).then( function(){\n        for( i=0 ; i < $scope.servicos.length ; i++ ){\n           (function( id ){\n               var url = \"/musica/servicos/\" + id + \"/staff\";\n               console.log(url);\n               $timeout(function () {\n                   $http.get(url).then( function(response){\n                       $scope.staffPorServico[id] = response.data;\n                       $scope.staffSelecionado[id] = [];\n                   });\n               }, Math.floor(Math.random() * (800)) + 200);\n\n           })($scope.servicos[i]['id']);\n\n        }\n    });\n\n\n\n    $scope.serviceIcon = function( url ){\n        //console.log(url);\n        return window.location.origin + '/' + url;\n\t};\n\n    $scope.avatar = function( url ){\n        if( !url ){\n            return window.location.origin + '/users/avatar/000-default-70px.jpg';\n        } else{\n            return window.location.origin + '/' + url + '70px.jpg';\n        }\n    }\n\n    $scope.selectStaff = function( service, staff ){\n        if( !service || !staff ) return;\n\n        var idx  = $scope.staffSelecionado[service].indexOf( staff );\n        if( idx  < 0 ){\n            $scope.staffSelecionado[service].push( staff );\n\n        } else{\n            $scope.staffSelecionado[service].splice( idx, 1);\n        }\n    }\n\n\n  }\n]);\n"]}